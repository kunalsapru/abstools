// 1 root feature + 91 Features (15 Abstract + 76 Concrete) + 23 Constraints
productline House;

features ElectronicDoor, SlidingDoor, SwingingDoor, ElectronicBlinds,
Sensors, DoorSensor, FireSensor, MovementSensor, WindowSensor, COSensor,
TemperatureSensor, Alarm, FireAlarm, BurglarAlarm, COAlarm, Interface,
RemoteInterface, Heating, Gas, Electric, Oil, 
Sensors0, DoorSensor0, FireSensor0 ,MovementSensor0, WindowSensor0, COSensor0, TemperatureSensor0,
Sensors1, DoorSensor1, FireSensor1 ,MovementSensor1, WindowSensor1, COSensor1, TemperatureSensor1,
Sensors2, DoorSensor2, FireSensor2 ,MovementSensor2, WindowSensor2, COSensor2, TemperatureSensor2,
Sensors3, DoorSensor3, FireSensor3 ,MovementSensor3, WindowSensor3, COSensor3, TemperatureSensor3,
Sensors4, DoorSensor4, FireSensor4 ,MovementSensor4, WindowSensor4, COSensor4, TemperatureSensor4,
Sensors5, DoorSensor5, FireSensor5 ,MovementSensor5, WindowSensor5, COSensor5, TemperatureSensor5,
Sensors6, DoorSensor6, FireSensor6 ,MovementSensor6, WindowSensor6, COSensor6, TemperatureSensor6,
Sensors7, DoorSensor7, FireSensor7 ,MovementSensor7, WindowSensor7, COSensor7, TemperatureSensor7,
Sensors8, DoorSensor8, FireSensor8 ,MovementSensor8, WindowSensor8, COSensor8, TemperatureSensor8,
Sensors9, DoorSensor9, FireSensor9 ,MovementSensor9, WindowSensor9, COSensor9, TemperatureSensor9;

product OilHeating (Interface, Heating, Oil, Sensors, TemperatureSensor);
product ElectricHeating (Interface, Heating, Electric, Sensors, TemperatureSensor);
product FireAlarm (Interface, Alarm, FireAlarm, Sensors, FireSensor);
product Test (Interface, Sensors, TemperatureSensor);

root SmartHome {
	group allof {
		opt ElectronicDoor {
			group [1..*] {
				SlidingDoor,
				SwingingDoor
			}
			require: DoorSensor ; 
		},
		opt ElectronicBlinds { require: WindowSensor ; },
		opt Sensors {
			group [1..*] {
				DoorSensor,
				FireSensor,
				MovementSensor,
				WindowSensor,
				COSensor,
				TemperatureSensor
			}
		},
		opt Alarm {
			group [1..*] {
				FireAlarm { require: FireSensor ; },
				BurglarAlarm { require: MovementSensor ; },
				COAlarm { require: COSensor ; }
			}
		},
		Interface {
			group allof {
				opt RemoteInteface
			}
		},
		opt Heating {
			group oneof {
				Gas { require: COAlarm ; },
				Electric,
				Oil
			}
			require: TemperatureSensor ;
		},
		opt Sensors0 {
		    group [1..*] {
		    	DoorSensor0,
		    	FireSensor0,
		    	MovementSensor0,
		    	WindowSensor0,
		    	COSensor0,
		    	TemperatureSensor0
		    }
		},
		opt Sensors1 {
		    group [1..*] {
		    	DoorSensor1,
		    	FireSensor1,
		    	MovementSensor1,
		    	WindowSensor1,
		    	COSensor1,
		    	TemperatureSensor1
		    }
		},
		opt Sensors2 {
		    group [1..*] {
		    	DoorSensor2,
		    	FireSensor2,
		    	MovementSensor2,
		    	WindowSensor2,
		    	COSensor2,
		    	TemperatureSensor2
		    }
		},
		opt Sensors3 {
		    group [1..*] {
		    	DoorSensor3,
		    	FireSensor3,
		    	MovementSensor3,
		    	WindowSensor3,
		    	COSensor3,
		    	TemperatureSensor3
		    }
		},
		opt Sensors4 {
		    group [1..*] {
		    	DoorSensor4,
		    	FireSensor4,
		    	MovementSensor4,
		    	WindowSensor4,
		    	COSensor4,
		    	TemperatureSensor4
		    }
		},
		opt Sensors5 {
		    group [1..*] {
		    	DoorSensor5,
		    	FireSensor5,
		    	MovementSensor5,
		    	WindowSensor5,
		    	COSensor5,
		    	TemperatureSensor5
		    }
		},
		opt Sensors6 {
		    group [1..*] {
		    	DoorSensor6,
		    	FireSensor6,
		    	MovementSensor6,
		    	WindowSensor6,
		    	COSensor6,
		    	TemperatureSensor6
		    }
		},
		opt Sensors7 {
		    group [1..*] {
		    	DoorSensor7,
		    	FireSensor7,
		    	MovementSensor7,
		    	WindowSensor7,
		    	COSensor7,
		    	TemperatureSensor7
		    }
		},
		opt Sensors8 {
		    group [1..*] {
		    	DoorSensor8,
		    	FireSensor8,
		    	MovementSensor8,
		    	WindowSensor8,
		    	COSensor8,
		    	TemperatureSensor8
		    }
		},
		opt Sensors9 {
		    group [1..*] {
		    	DoorSensor9,
		    	FireSensor9,
		    	MovementSensor9,
		    	WindowSensor9,
		    	COSensor9,
		    	TemperatureSensor9
		    }
		}
	}
}